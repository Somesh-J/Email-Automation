# Example environment configuration file
# Copy this to .env and update with your actual values

# ============================================================================
# Application Configuration
# ============================================================================
APP_NAME=Email Automation API
VERSION=1.0.0
DEBUG=false
HOST=0.0.0.0
PORT=8000

# ============================================================================
# Database Configuration - MongoDB ONLY
# ============================================================================
USE_MONGODB=true

# MongoDB Connection Settings
MONGO_URL=mongodb://localhost:27017
MONGO_HOST=localhost
MONGO_PORT=27017
MONGO_DB_NAME=email_automation
MONGO_USERNAME=
MONGO_PASSWORD=
MONGO_AUTH_DB=admin
MONGO_USE_SSL=false

# ============================================================================
# Email Configuration - IMAP (for receiving emails)
# ============================================================================
IMAP_SERVER=imap.gmail.com
IMAP_PORT=993
IMAP_USE_SSL=true
IMAP_USERNAME=your-email@gmail.com
IMAP_PASSWORD=your-app-password

# For Gmail, you need to:
# 1. Enable IMAP in Gmail settings
# 2. Create an App Password (if using 2FA)
#    Go to: https://myaccount.google.com/apppasswords

# ============================================================================
# Email Provider Configuration (CHOOSE ONE: sendgrid or resend)
# ============================================================================
EMAIL_PROVIDER=sendgrid
# Options: sendgrid, resend

# ----------------------------------------------------------------------------
# SendGrid Configuration (if EMAIL_PROVIDER=sendgrid)
# ----------------------------------------------------------------------------
SENDGRID_API_KEY=your-sendgrid-api-key-here
# Get your SendGrid API key from: https://app.sendgrid.com/settings/api_keys
# Free tier: 100 emails/day
# Pricing: https://sendgrid.com/pricing/

# ----------------------------------------------------------------------------
# Resend Configuration (if EMAIL_PROVIDER=resend)
# ----------------------------------------------------------------------------
RESEND_API_KEY=re_your-resend-api-key-here
# Get your Resend API key from: https://resend.com/api-keys
# Free tier: 100 emails/day, 3,000 emails/month
# Pricing: https://resend.com/pricing

# ----------------------------------------------------------------------------
# Email Settings (common for both providers)
# ----------------------------------------------------------------------------
FROM_EMAIL=noreply@yourdomain.com
FROM_NAME=Email Automation System

# ============================================================================
# AI Configuration (for AI-powered email replies)
# ============================================================================
AI_PROVIDER=gemini
# Options: gemini, openai

# Google Gemini API Key
GEMINI_API_KEY=your-gemini-api-key-here
# Get your API key from: https://makersuite.google.com/app/apikey

# OpenAI API Key (optional, if using OpenAI)
OPENAI_API_KEY=your-openai-api-key-here
# Get your API key from: https://platform.openai.com/api-keys

# ============================================================================
# Security Configuration
# ============================================================================
SECRET_KEY=your-super-secret-key-change-this-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=30

# API Keys (comma-separated list)
VALID_API_KEYS=key1,key2,key3
API_KEY_HEADER=X-API-Key

# CORS Origins (comma-separated, use * for all)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# ============================================================================
# Monitoring Configuration
# ============================================================================
AUTO_START_MONITORING=false
EMAIL_CHECK_INTERVAL=30
MAX_EMAILS_PER_CHECK=50
ENABLE_AUTO_REPLY=true

# ============================================================================
# Rate Limiting
# ============================================================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=3600

# ============================================================================
# Bulk Email Configuration
# ============================================================================
BULK_EMAIL_BATCH_SIZE=10
BULK_EMAIL_DELAY=1.0
MAX_BULK_RECIPIENTS=1000

# ============================================================================
# Logging Configuration
# ============================================================================
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

LOG_FILE=logs/app.log
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# ============================================================================
# Domain Configuration
# ============================================================================
# Comma-separated list of allowed domains
DEFAULT_ALLOWED_DOMAINS=gmail.com,outlook.com,yahoo.com

# Comma-separated list of blocked domains
BLOCKED_DOMAINS=spam.com,malicious.com

# ============================================================================
# Cache Configuration (for future Redis integration)
# ============================================================================
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# Redis Configuration (optional, for advanced caching and rate limiting)
REDIS_URL=
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# ============================================================================
# Email Provider Comparison & Notes:
# ============================================================================
# 
# SENDGRID:
# ✓ Pros: Industry standard, reliable, detailed analytics
# ✓ Free tier: 100 emails/day
# ✓ Good documentation and support
# ✓ Established service with high deliverability
# ✗ Cons: More expensive at scale, complex UI
# 
# RESEND:
# ✓ Pros: Modern API, developer-friendly, simple pricing
# ✓ Free tier: 100 emails/day, 3000/month
# ✓ Better free tier than SendGrid
# ✓ React Email support, great DX
# ✗ Cons: Newer service, less established
# 
# RECOMMENDATION:
# - Use SendGrid for: Enterprise, high volume, established needs
# - Use Resend for: Modern apps, better free tier, simpler API
# 
# ============================================================================
# Setup Instructions:
# ============================================================================
# 1. Copy this file: copy .env.example .env
# 2. Choose your email provider (sendgrid or resend)
# 3. Get API key from your chosen provider
# 4. Configure MongoDB connection
# 5. Setup Gmail IMAP (enable IMAP + App Password)
# 6. Get Gemini API key for AI features (optional)
# 7. Set strong SECRET_KEY: python -c "import secrets; print(secrets.token_urlsafe(32))"
# 8. Run: python test_setup.py to verify configuration
# 9. Start server: python main.py
